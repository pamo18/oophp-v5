---
---
Redovisning kmom06
=========================

Inom oophp kmom06 ligger fokus på att lagra och hantera innehåll i databaser.  Jag har skapat en enkel variant av en CMS, Content Management System, där användare kan redigera en webbsidas innehåll genom ett webbaserat gränssnitt.  Jag har också skapat min egen Textfilter klass för att jobba med olika innehåll och översätta text från tex. markdown.

Min Textfilter har stöd för bbcode, länkar, markdown, nl2br, strip_tags samt htmlentities, där man kan skicka in namnet på ett filter eller en array med flera olika filters som ska köras till klassens enda API, parser metoden.  Jag har testat klassen med uppgiftens olika texter och den fungerar som tänkt.  Det är smidigt att kunna skriva text i olika format som kan enkelt översättas innan visning, den ger flexibiliteten som en användare kan kräva för en riktigt CMS.

My Content Database är strukturerad i tre olika kontroller klasser, en för huvudfunktionalitet inklusive CRUD, en för att visa sidor och en för att visa bloggar.  Detta ger en tydligare kodstruktur framförallt där alla globala variabler är tillgängliga genom ramverkets egna funktioner för enklare testning och mindre kodrader.  Det finns också en funktions fil med allmänna funktioner som kan återanvändas i hela ramverket.  Min Textfilter klass importeras till kontrollerklassen för att sanera och översätta de olika innehållen innan visningen.  Jag har också lagt till lite JavaScript i main.js filen för att ge bättre funktionalitet och användarvänligheten när man redigera innehåll.  När man kommer till landningssidan så skickas man med en knapp direkt till innehållet, där man se allt som är publicerade samt icke raderade och en navbar med länkar till pages och bloggar.  På blogg översikten så visas enbart de första 300 karaktärer (ingressen) och sen finns det en länk för att läsa mer.  På navbaren finns det också en länk till admin sidan, där man måste logga in med ”doe, doe” eller ”admin, admin”.  Den inloggade användaren blir också författare till sitt eget innehåll.  Nu vänder navbaren till en admin variant för alla CRUD moment samt möjligheten för att skapa om databasen eller återställa raderade innehåll.  På admin vyn har jag också lagt till sortering och paginering av innehållet.  Det finns återkoppling med en flash meddelande när man administrera innehåll också.

Nu mot kursens slut inser jag ännu mer den positiva effekten en bra kodstruktur kan ha när det gäller återanvändning av kod och en effektivare utvecklingsmiljö att jobba i.  Refactoring av kod för att passa in i sin omgivning är ett logiskt och väldigt bra sätt att jobba emot.  Jobbar man i ett stort komplicerat ramverk så lönar det sig att tänka långsiktigt där man planerar för framtida möjligheter och försöka effektivisera så mycket som möjligt.  I längden kommer detta att både spara tid och förbättra slutresultatet.

Min TIL för detta kursmoment är hur viktigt det är att kontrollera, verifiera och sanera innehåll innan den visas på sidan, framförallt när man lämnar över mer kontroll till användaren över innehållet.  Säkerhet är viktigt men man måste hitta balansen med användarvänligheten också.
